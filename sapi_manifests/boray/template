[log]
{{#BORAY_LOG_LEVEL}}
level = "{{BORAY_LOG_LEVEL}}"
{{/BORAY_LOG_LEVEL}}
{{^BORAY_LOG_LEVEL}}
level = "info"
{{/BORAY_LOG_LEVEL}}

[server]
{{#BORAY_SERVER_HOST}}
host = "{{BORAY_SERVER_HOST}}"
{{/BORAY_SERVER_HOST}}
{{^BORAY_SERVER_HOST}}
host = "0.0.0.0"
{{/BORAY_SERVER_HOST}}
{{#BORAY_SERVER_PORT}}
port = {{BORAY_SERVER_PORT}}
{{/BORAY_SERVER_PORT}}
{{^BORAY_SERVER_PORT}}
#
# This default value should be kept in sync with the default value in
# boot/setup.sh and the Makefile.
#
port = 2030
{{/BORAY_SERVER_PORT}}

[metrics]
{{#BORAY_METRICS_HOST}}
host = "{{BORAY_METRICS_HOST}}"
{{/BORAY_METRICS_HOST}}
{{^BORAY_METRICS_HOST}}
host = "0.0.0.0"
{{/BORAY_METRICS_HOST}}
{{#BORAY_METRICS_PORT}}
port = {{BORAY_METRICS_PORT}}
{{/BORAY_METRICS_PORT}}
{{^BORAY_METRICS_PORT}}
port = 3020
{{/BORAY_METRICS_PORT}}

[zookeeper]
connect_string = "{{#ZK_SERVERS}}{{host}}:{{port}}{{^last}},{{/last}}{{/ZK_SERVERS}}"
path = "/manatee/{{SERVICE_NAME}}"

[database]
admin_user = "postgres"
user = "boray"
{{#BORAY_DATABASE_HOST}}
host = "{{BORAY_DATABASE_HOST}}"
{{/BORAY_DATABASE_HOST}}
{{^BORAY_DATABASE_HOST}}
host = "127.0.0.1"
{{/BORAY_DATABASE_HOST}}
{{#BORAY_DATABASE_PORT}}
port = {{BORAY_DATABASE_PORT}}
{{/BORAY_DATABASE_PORT}}
{{^BORAY_DATABASE_PORT}}
port = 5432
{{/BORAY_DATABASE_PORT}}
{{#BORAY_DATABASE_DATABASE}}
database = "{{BORAY_DATABASE_DATABASE}}"
{{/BORAY_DATABASE_DATABASE}}
{{^BORAY_DATABASE_DATABASE}}
database = "boray"
{{/BORAY_DATABASE_DATABASE}}
{{#BORAY_DATABASE_APPLICATION_NAME}}
application_name = "{{BORAY_DATABASE_APPLICATION_NAME}}"
{{/BORAY_DATABASE_APPLICATION_NAME}}
{{^BORAY_DATABASE_APPLICATION_NAME}}
application_name = "boray"
{{/BORAY_DATABASE_APPLICATION_NAME}}
{{#BORAY_DATABASE_TLS_MODE}}
tls_mode = "{{BORAY_DATABASE_TLS_MODE}}"
{{/BORAY_DATABASE_TLS_MODE}}
{{^BORAY_DATABASE_TLS_MODE}}
tls_mode = "disable"
{{/BORAY_DATABASE_TLS_MODE}}

[cueball]
{{#BORAY_CUEBALL_MAX_CONNECTIONS}}
max_connections = {{BORAY_CUEBALL_MAX_CONNECTIONS}}
{{/BORAY_CUEBALL_MAX_CONNECTIONS}}
{{^BORAY_CUEBALL_MAX_CONNECTIONS}}
max_connections = 64
{{/BORAY_CUEBALL_MAX_CONNECTIONS}}
{{#BORAY_CUEBALL_CLAIM_TIMEOUT}}
claim_timeout = {{BORAY_CUEBALL_CLAIM_TIMEOUT}}
{{/BORAY_CUEBALL_CLAIM_TIMEOUT}}
{{^BORAY_CUEBALL_CLAIM_TIMEOUT}}
claim_timeout = 500 # milliseconds
{{/BORAY_CUEBALL_CLAIM_TIMEOUT}}
{{#BORAY_CUEBALL_REBALANCER_ACTION_DELAY}}
rebalancer_action_delay = {{BORAY_CUEBALL_REBALANCER_ACTION_DELAY}}
{{/BORAY_CUEBALL_REBALANCER_ACTION_DELAY}}
{{^BORAY_CUEBALL_REBALANCER_ACTION_DELAY}}
rebalancer_action_delay = 20 # milliseconds
{{/BORAY_CUEBALL_REBALANCER_ACTION_DELAY}}


[tokio]
{{#BORAY_TOKIO_BLOCKING_THREADS}}
blocking_threads = {{BORAY_TOKIO_BLOCKING_THREADS}}
{{/BORAY_TOKIO_BLOCKING_THREADS}}
{{^BORAY_TOKIO_BLOCKING_THREADS}}
blocking_threads = 200
{{/BORAY_TOKIO_BLOCKING_THREADS}}
{{#BORAY_TOKIO_THREAD_STACK_SIZE}}
thread_stack_size = {{BORAY_TOKIO_THREAD_STACK_SIZE}}
{{/BORAY_TOKIO_THREAD_STACK_SIZE}}
{{^BORAY_TOKIO_THREAD_STACK_SIZE}}
thread_stack_size = 2097152
{{/BORAY_TOKIO_THREAD_STACK_SIZE}}
{{#BORAY_TOKIO_THREAD_NAME_PREFIX}}
thread_name_prefix = "{{BORAY_TOKIO_THREAD_NAME_PREFIX}}"
{{/BORAY_TOKIO_THREAD_NAME_PREFIX}}
{{^BORAY_TOKIO_THREAD_NAME_PREFIX}}
thread_name_prefix = "boray-worker-"
{{/BORAY_TOKIO_THREAD_NAME_PREFIX}}
